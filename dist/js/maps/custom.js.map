{"version":3,"sources":["custom.js"],"names":["startDictation","window","hasOwnProperty","recognition","webkitSpeechRecognition","continuous","interimResults","lang","start","onresult","e","document","getElementById","value","results","transcript","stop","submit","onerror","$","attr","addClass","removeClass","append","insertBefore","load","click","toggleClass","prepend","on","target","this","focus","length","related","html","advanceOrderCustom","img","name","stock","amount","parseFloat","val","priceSingle","priceTotal","addEventListener","insertAfter","x","printSlideIndex","currentSlide","each","remove","Siema","selector","duration","easing","perPage","startIndex","draggable","multipleDrag","threshold","loop","onInit","unveil","onChange","isDragging","mousedown","mousemove","mouseup","wasDragging","one","src","replace","parent","clone"],"mappings":"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","file":"../custom.js","sourcesContent":["// =============================================================================\r\n// INIT HOMEPAGE CAROUSEL\r\n// =============================================================================\r\n/*\r\nif ($(\"#carousel\").length){\r\n    const mySiema = new Siema({\r\n        selector: '.carousel-inner',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: 1,\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: true,\r\n        rtl: false,\r\n        onInit: () => {},\r\n        onChange: () => {},\r\n        });\r\n        if ($(\".left\").length){\r\n        document.querySelector('.left').addEventListener('click', () => mySiema.prev());\r\n        document.querySelector('.right').addEventListener('click', () => mySiema.next());\r\n        }\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".item a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".item\").click();\r\n            } else {\r\n                $(\".item\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n*/\r\n\r\n\r\n$(\"#carousel\").attr(\"id\",\"swiffy\");\r\n          $(\"#swiffy\").addClass(\"swiffy-slider slider-nav-arrow slider-indicators-round slider-nav-autoplay slider-nav-autopause\");\r\n          $(\"#swiffy\").attr(\"data-interval\",\"\");\r\n           $(\"#swiffy\").attr(\"data-slider-nav-autoplay-interval\",\"5000\");\r\n          $(\"#swiffy .carousel-inner\").addClass(\"slider-container\");\r\n          $(\"#swiffy .carousel-inner\").removeClass(\"carousel-inner\"); \r\n          \r\n          \r\n         $(\"#swiffy\").append('<button type=\"button\" class=\"slider-nav\"></button> <button type=\"button\" class=\"slider-nav slider-nav-next\"></button>');      \r\n       \r\n\r\n// =============================================================================\r\n// HOMEPAGE NEWS\r\n// =============================================================================\r\n\r\n$('<section class=\"hp-blog\"><div class=\"container\"><h1>Na našem blogu</h1><div class=\"news-wrapper\"></div><div class=\"hp-blog-bottom\"><a href=\"/blog\" class=\"btn\">Více článků</a></div></div></section>').insertBefore(\".in-index #footer\");\r\n$(\".hp-blog .news-wrapper\").load(\"/blog/ .news-wrapper .news-item:nth-child(-n+3)\");\r\n\r\n\r\n// =============================================================================\r\n// MENU TOGGLES\r\n// =============================================================================\r\n\r\n/* toggle admin bar */\r\n$(\".admin-bar\").click(function(){\r\n    $(\".admin-bar\").toggleClass(\"--active\");\r\n});\r\n\r\n/* add hamburger menu icon on mobile */\r\n$(\".header-top\").prepend('<div class=\"nav-menu-toggle\" id=\"js-menuToggle\"><span></span></div>');\r\n\r\n/* toggle control of responsive menu */\r\n$(\"#js-menuToggle, .navigation-close\").click(function(){\r\n    $(\"body\").toggleClass(\"--menuActive\");\r\n});\r\n\r\n/* add search and user icons to header area */\r\n$(\".navigation-buttons\").prepend('<div class=\"nav-search\" id=\"js-searchToggle\"></div><div class=\"nav-user\" id=\"js-userToggle\"></div>');\r\n\r\n\r\n/* toggle user login modal */\r\n$(\"#js-userToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n$('.user-action-login').on('click',function(e){\r\n    if (e.target !== this)\r\n    return;\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n\r\n/* login form close */\r\n$(\".user-action .login-widget .popup-widget-inner\").append(\"<span class='login-close'></span>\");\r\n$(\".login-close\").click(function(){\r\n    $(\"body\").removeClass(\"--navUserActive\");\r\n});\r\n\r\n\r\n/* toggle control of responsive search */\r\n$(\"#js-searchToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--searchActive\");\r\n    $(\".header-top .search .form-control\").focus(); \r\n});\r\n\r\n\r\n$(\".cart-count\").on('touchstart', function() {\r\n  $(\"body\").toggleClass(\"--cartActive\");\r\n});\r\n    \r\n\r\n$(\".menu-helper\").click(function(){\r\n    $(\"body\").removeClass(\"--menuActive --navUserActive --searchActive --cartActive --advancedModal\");\r\n});\r\n\r\n/* move main navigation */\r\n$(\"#navigation\").insertBefore(\".header-top .search\");\r\n\r\n// =============================================================================\r\n// VOICE SEARCH\r\n// =============================================================================\r\n\r\n$(\"#formSearchForm .query-input\").attr(\"id\",\"searchbox\");\r\n$(\"<div id='speechToggle' onclick='startDictation()'></div>\").insertBefore(\".search-form .btn\");\r\n\r\nfunction startDictation() {\r\n    if (window.hasOwnProperty('webkitSpeechRecognition')) {\r\n\r\n        var recognition = new webkitSpeechRecognition();\r\n\r\n        recognition.continuous = false;\r\n        recognition.interimResults = false;\r\n\r\n        recognition.lang = \"cs-CZ\";\r\n        recognition.start();\r\n\r\n        recognition.onresult = function(e) {\r\n            document.getElementById('searchbox').value = e.results[0][0].transcript;\r\n            recognition.stop();\r\n            document.getElementById('formSearchForm').submit();\r\n        };\r\n\r\n        recognition.onerror = function(e) {\r\n            recognition.stop();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// =============================================================================\r\n// ADVANCED ORCDER SUMMARY\r\n// =============================================================================\r\n\r\nif ($(\".type-detail\").length){\r\n\r\n    $(\"body\").append('<div class=\"advancedModal\"><div class=\"advancedModal__inner\"><h2 class=\"advancedModal__title\">Zboží bylo přidáno do košíku</h2><div class=\"advancedModal__content\"></div><div class=\"advancedModal__buttons\"><a href=\"/kosik\" class=\"btn\">Přejít do košíku</a></div></div></div>');\r\n\r\n    if ($(\".products-related\").length){\r\n        var related = $(\".products-related\").html();\r\n        $(\".advancedModal\").append('<h3 class=\"advancedModal__relatedTitle\">Související produkty</h3><div class=\"products-block\">' + related + '</div>');\r\n    }\r\n\r\n    function advanceOrderCustom() {\r\n    \r\n        $(\"body\").addClass(\"--advancedModal\");\r\n        $(\".advancedModal__content\").html(\"\");\r\n    \r\n        var img = $(\".p-detail-inner .p-image-wrapper a\").html();\r\n        var name = $(\".p-detail-inner .p-detail-inner-header h1\").html();\r\n        if($(\".p-detail-inner .parameter-dependent\").length){\r\n            var stock = $(\".p-detail-inner .availability-value .parameter-dependent:not(.noDisplay) span\").html();\r\n        }else{\r\n            var stock = $(\".p-detail-inner .availability-value\").html();\r\n        }\r\n        var amount = parseFloat($(\".p-detail-inner .add-to-cart .amount\").val());\r\n    \r\n        var priceSingle = $(\".p-detail-inner .p-final-price-wrapper .price-final-holder\").html();\r\n        var priceTotal = parseFloat(priceSingle)*amount;\r\n    \r\n        $(\".advancedModal__content\").prepend('<div class=\"extras-product\">' +\r\n        '<div class=\"extras-product-img\">' + img + '</div>' +\r\n        '<div class=\"extras-product-name\">' + name + '</div>' +\r\n        '<div class=\"extras-product-stock\">' + stock + '</div>' +\r\n        '<div class=\"extras-product-amount\">' + amount + 'x</div>' +\r\n        '<div class=\"extras-product-priceTotal\">' + priceTotal + ' Kč</div>' +\r\n        '</div>');\r\n    \r\n    \r\n    }\r\n    \r\n    /* call functions after order modal loaded */\r\n    document.addEventListener('ShoptetCartUpdated', function () {\r\n        advanceOrderCustom();\r\n    });    \r\n\r\n    $('.advancedModal').on('click',function(e){\r\n        if (e.target !== this)\r\n        return;\r\n        $(\"body\").removeClass(\"--advancedModal\");\r\n    });\r\n\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// PRODUCT PAGE\r\n// -----------------------------------------------------------------------------\r\n\r\n/* relocate product title */\r\n$(\".p-detail-inner-header\").insertBefore(\".p-final-price-wrapper\");\r\n\r\n\r\n/* init thumbnail carousel */\r\nif ($(\".p-thumbnails-inner\").length){\r\n\r\n    $('<div class=\"p-thumbnails-indicators\"></div>').insertAfter(\".p-thumbnails-inner\");\r\n    var x=0;\r\n    $('.p-thumbnail img').each(function() {\r\n        $(\".p-thumbnails-indicators\").append('<div class=\"p-thumbnails-indicator ' + x + '\"></div>');\r\n        x++;\r\n    });\r\n    $(\".p-thumbnails-indicator.0\").addClass(\"active\");\r\n\r\n    $(\".cbox-gal\").remove();\r\n\r\n    function printSlideIndex() {\r\n        var x = this.currentSlide;\r\n        $(\".p-thumbnails-indicator\").removeClass(\"active\");\r\n        $(\".p-thumbnails-indicator.\"+x).addClass(\"active\");\r\n    }\r\n\r\n    new Siema({\r\n        selector: '.p-thumbnails-inner>div',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 1,\r\n            500: 4,\r\n            991: 6,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false, \r\n        onInit: () => { $(\"img\").unveil(), printSlideIndex },\r\n        onChange: printSlideIndex,\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".p-thumbnail\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p-thumbnail\").click();\r\n            } else {\r\n                $(\".p-thumbnail\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(\".p-image\").addClass(\"--noDisplay\");\r\n\r\n}else{\r\n    $(\".p-image\").addClass(\"--noPointerEvents\");\r\n}\r\n\r\n\r\n\r\nif ($(\".mobile\").length){\r\n    $('.p-thumbnail img').each(function() {\r\n        var src = $(this).attr('data-src').replace('related','big');\r\n        $(this).attr('data-src', src);   \r\n    });\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// CATEGORY CAROUSEL INIT\r\n// -----------------------------------------------------------------------------\r\n\r\nif ($(\"#productsTop .product\").length > 5){\r\n    $(\".button-wrapper\").remove();\r\n\r\n    new Siema({\r\n        selector: '#productsTop',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 2,\r\n            500: 3,\r\n            991: 5,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\"a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p\").click();\r\n            } else {\r\n                $(\".p\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// =============================================================================\r\n// RESPONSIVE MENU TOGGLE\r\n// =============================================================================\r\n\r\nif ($(\".mobile\").length){\r\n    $('.menu-level-1>li.ext>a').click(function() {\r\n        $(this).parent(\".ext\").toggleClass(\"--active\");\r\n        return false;\r\n    });\r\n\r\n}\r\n\r\n// =============================================================================\r\n// CART\r\n// =============================================================================\r\n\r\n/* relocate contact widget to header */\r\nif ($(\".contact-box\").length){\r\n    $(\".contact-box\").clone().insertBefore(\"#js-userToggle\");\r\n}\r\n\r\n\r\nif ($(\"#customerLogin\").length){\r\n    $(\"#customerLogin .password-helper a:last-child\").insertAfter(\".input-wrapper.password\");\r\n}\r\n\r\nif ($(\".cart-header\").length){\r\n    $(\".cart-header\").insertBefore(\".content-wrapper-in\");\r\n}\r\n"]}