{"version":3,"sources":["custom.js"],"names":["$","length","mySiema","Siema","selector","duration","easing","perPage","startIndex","draggable","multipleDrag","threshold","loop","rtl","onInit","onChange","document","querySelector","addEventListener","prev","next","isDragging","mousedown","mousemove","mouseup","wasDragging","one","click","startDictation","window","hasOwnProperty","recognition","webkitSpeechRecognition","continuous","interimResults","lang","start","onresult","e","getElementById","value","results","transcript","stop","submit","onerror","insertBefore","load","toggleClass","prepend","on","target","this","append","removeClass","focus","attr","related","html","advanceOrderCustom","addClass","img","name","stock","amount","parseFloat","val","priceSingle","priceTotal","insertAfter","x","printSlideIndex","currentSlide","each","remove","unveil","src","replace","parent","clone"],"mappings":"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","file":"../custom.js","sourcesContent":["// =============================================================================\r\n// INIT HOMEPAGE CAROUSEL\r\n// =============================================================================\r\nif ($(\"#carousel\").length){\r\n    const mySiema = new Siema({\r\n        selector: '.carousel-inner',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: 1,\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: true,\r\n        rtl: false,\r\n        onInit: () => {},\r\n        onChange: () => {},\r\n        });\r\n        if ($(\".left\").length){\r\n        document.querySelector('.left').addEventListener('click', () => mySiema.prev());\r\n        document.querySelector('.right').addEventListener('click', () => mySiema.next());\r\n        }\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".item a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".item\").click();\r\n            } else {\r\n                $(\".item\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// =============================================================================\r\n// HOMEPAGE NEWS\r\n// =============================================================================\r\n\r\n$('<section class=\"hp-blog\"><div class=\"container\"><h1>Na našem blogu</h1><div class=\"news-wrapper\"></div><div class=\"hp-blog-bottom\"><a href=\"/blog\" class=\"btn\">Více článků</a></div></div></section>').insertBefore(\".in-index #footer\");\r\n$(\".hp-blog .news-wrapper\").load(\"/blog/ .news-wrapper .news-item:nth-child(-n+3)\");\r\n\r\n\r\n// =============================================================================\r\n// MENU TOGGLES\r\n// =============================================================================\r\n\r\n/* toggle admin bar */\r\n$(\".admin-bar\").click(function(){\r\n    $(\".admin-bar\").toggleClass(\"--active\");\r\n});\r\n\r\n/* add hamburger menu icon on mobile */\r\n$(\".header-top\").prepend('<div class=\"nav-menu-toggle\" id=\"js-menuToggle\"><span></span></div>');\r\n\r\n/* toggle control of responsive menu */\r\n$(\"#js-menuToggle, .navigation-close\").click(function(){\r\n    $(\"body\").toggleClass(\"--menuActive\");\r\n});\r\n\r\n/* add search and user icons to header area */\r\n$(\".navigation-buttons\").prepend('<div class=\"nav-search\" id=\"js-searchToggle\"></div><div class=\"nav-user\" id=\"js-userToggle\"></div>');\r\n\r\n\r\n/* toggle user login modal */\r\n$(\"#js-userToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n$('.user-action-login').on('click',function(e){\r\n    if (e.target !== this)\r\n    return;\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n\r\n/* login form close */\r\n$(\".user-action .login-widget .popup-widget-inner\").append(\"<span class='login-close'></span>\");\r\n$(\".login-close\").click(function(){\r\n    $(\"body\").removeClass(\"--navUserActive\");\r\n});\r\n\r\n\r\n/* toggle control of responsive search */\r\n$(\"#js-searchToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--searchActive\");\r\n    $(\".header-top .search .form-control\").focus(); \r\n});\r\n\r\n\r\n$(\".cart-count\").on('touchstart', function() {\r\n  $(\"body\").toggleClass(\"--cartActive\");\r\n});\r\n    \r\n\r\n$(\".menu-helper\").click(function(){\r\n    $(\"body\").removeClass(\"--menuActive --navUserActive --searchActive --cartActive --advancedModal\");\r\n});\r\n\r\n/* move main navigation */\r\n$(\"#navigation\").insertBefore(\".header-top .search\");\r\n\r\n// =============================================================================\r\n// VOICE SEARCH\r\n// =============================================================================\r\n\r\n$(\"#formSearchForm .query-input\").attr(\"id\",\"searchbox\");\r\n$(\"<div id='speechToggle' onclick='startDictation()'></div>\").insertBefore(\".search-form .btn\");\r\n\r\nfunction startDictation() {\r\n    if (window.hasOwnProperty('webkitSpeechRecognition')) {\r\n\r\n        var recognition = new webkitSpeechRecognition();\r\n\r\n        recognition.continuous = false;\r\n        recognition.interimResults = false;\r\n\r\n        recognition.lang = \"cs-CZ\";\r\n        recognition.start();\r\n\r\n        recognition.onresult = function(e) {\r\n            document.getElementById('searchbox').value = e.results[0][0].transcript;\r\n            recognition.stop();\r\n            document.getElementById('formSearchForm').submit();\r\n        };\r\n\r\n        recognition.onerror = function(e) {\r\n            recognition.stop();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// =============================================================================\r\n// ADVANCED ORCDER SUMMARY\r\n// =============================================================================\r\n\r\nif ($(\".type-detail\").length){\r\n\r\n    $(\"body\").append('<div class=\"advancedModal\"><div class=\"advancedModal__inner\"><h2 class=\"advancedModal__title\">Zboží bylo přidáno do košíku</h2><div class=\"advancedModal__content\"></div><div class=\"advancedModal__buttons\"><a href=\"/kosik\" class=\"btn\">Přejít do košíku</a></div></div></div>');\r\n\r\n    if ($(\".products-related\").length){\r\n        var related = $(\".products-related\").html();\r\n        $(\".advancedModal\").append('<h3 class=\"advancedModal__relatedTitle\">Související produkty</h3><div class=\"products-block\">' + related + '</div>');\r\n    }\r\n\r\n    function advanceOrderCustom() {\r\n    \r\n        $(\"body\").addClass(\"--advancedModal\");\r\n        $(\".advancedModal__content\").html(\"\");\r\n    \r\n        var img = $(\".p-detail-inner .p-image-wrapper a\").html();\r\n        var name = $(\".p-detail-inner .p-detail-inner-header h1\").html();\r\n        if($(\".p-detail-inner .parameter-dependent\").length){\r\n            var stock = $(\".p-detail-inner .availability-value .parameter-dependent:not(.noDisplay) span\").html();\r\n        }else{\r\n            var stock = $(\".p-detail-inner .availability-value\").html();\r\n        }\r\n        var amount = parseFloat($(\".p-detail-inner .add-to-cart .amount\").val());\r\n    \r\n        var priceSingle = $(\".p-detail-inner .p-final-price-wrapper .price-final-holder\").html();\r\n        var priceTotal = parseFloat(priceSingle)*amount;\r\n    \r\n        $(\".advancedModal__content\").prepend('<div class=\"extras-product\">' +\r\n        '<div class=\"extras-product-img\">' + img + '</div>' +\r\n        '<div class=\"extras-product-name\">' + name + '</div>' +\r\n        '<div class=\"extras-product-stock\">' + stock + '</div>' +\r\n        '<div class=\"extras-product-amount\">' + amount + 'x</div>' +\r\n        '<div class=\"extras-product-priceTotal\">' + priceTotal + ' Kč</div>' +\r\n        '</div>');\r\n    \r\n    \r\n    }\r\n    \r\n    /* call functions after order modal loaded */\r\n    document.addEventListener('ShoptetCartUpdated', function () {\r\n        advanceOrderCustom();\r\n    });    \r\n\r\n    $('.advancedModal').on('click',function(e){\r\n        if (e.target !== this)\r\n        return;\r\n        $(\"body\").removeClass(\"--advancedModal\");\r\n    });\r\n\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// PRODUCT PAGE\r\n// -----------------------------------------------------------------------------\r\n\r\n/* relocate product title */\r\n$(\".p-detail-inner-header\").insertBefore(\".p-final-price-wrapper\");\r\n\r\n\r\n/* init thumbnail carousel */\r\nif ($(\".p-thumbnails-inner\").length){\r\n\r\n    $('<div class=\"p-thumbnails-indicators\"></div>').insertAfter(\".p-thumbnails-inner\");\r\n    var x=0;\r\n    $('.p-thumbnail img').each(function() {\r\n        $(\".p-thumbnails-indicators\").append('<div class=\"p-thumbnails-indicator ' + x + '\"></div>');\r\n        x++;\r\n    });\r\n    $(\".p-thumbnails-indicator.0\").addClass(\"active\");\r\n\r\n    $(\".cbox-gal\").remove();\r\n\r\n    function printSlideIndex() {\r\n        var x = this.currentSlide;\r\n        $(\".p-thumbnails-indicator\").removeClass(\"active\");\r\n        $(\".p-thumbnails-indicator.\"+x).addClass(\"active\");\r\n    }\r\n\r\n    new Siema({\r\n        selector: '.p-thumbnails-inner>div',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 1,\r\n            500: 4,\r\n            991: 6,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false, \r\n        onInit: () => { $(\"img\").unveil(), printSlideIndex },\r\n        onChange: printSlideIndex,\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".p-thumbnail\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p-thumbnail\").click();\r\n            } else {\r\n                $(\".p-thumbnail\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(\".p-image\").addClass(\"--noDisplay\");\r\n\r\n}else{\r\n    $(\".p-image\").addClass(\"--noPointerEvents\");\r\n}\r\n\r\n\r\n\r\nif ($(\".mobile\").length){\r\n    $('.p-thumbnail img').each(function() {\r\n        var src = $(this).attr('data-src').replace('related','big');\r\n        $(this).attr('data-src', src);   \r\n    });\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// CATEGORY CAROUSEL INIT\r\n// -----------------------------------------------------------------------------\r\n\r\nif ($(\"#productsTop .product\").length > 5){\r\n    $(\".button-wrapper\").remove();\r\n\r\n    new Siema({\r\n        selector: '#productsTop',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 2,\r\n            500: 3,\r\n            991: 5,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\"a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p\").click();\r\n            } else {\r\n                $(\".p\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// =============================================================================\r\n// RESPONSIVE MENU TOGGLE\r\n// =============================================================================\r\n\r\nif ($(\".mobile\").length){\r\n    $('.menu-level-1>li.ext>a').click(function() {\r\n        $(this).parent(\".ext\").toggleClass(\"--active\");\r\n        return false;\r\n    });\r\n\r\n}\r\n\r\n// =============================================================================\r\n// CART\r\n// =============================================================================\r\n\r\n/* relocate contact widget to header */\r\nif ($(\".contact-box\").length){\r\n    $(\".contact-box\").clone().insertBefore(\"#js-userToggle\");\r\n}\r\n\r\n\r\nif ($(\"#customerLogin\").length){\r\n    $(\"#customerLogin .password-helper a:last-child\").insertAfter(\".input-wrapper.password\");\r\n}\r\n\r\nif ($(\".cart-header\").length){\r\n    $(\".cart-header\").insertBefore(\"#content-wrapper\");\r\n}\r\n"]}