{"version":3,"sources":["custom.js"],"names":["startDictation","window","hasOwnProperty","recognition","webkitSpeechRecognition","continuous","interimResults","lang","start","onresult","e","document","getElementById","value","results","transcript","stop","submit","onerror","$","insertBefore","load","click","toggleClass","prepend","on","target","this","append","removeClass","focus","attr","length","related","html","advanceOrderCustom","addClass","img","name","stock","amount","parseFloat","val","priceSingle","priceTotal","addEventListener","insertAfter","x","printSlideIndex","currentSlide","each","remove","Siema","selector","duration","easing","perPage","startIndex","draggable","multipleDrag","threshold","loop","onInit","unveil","onChange","isDragging","mousedown","mousemove","mouseup","wasDragging","one","src","replace","parent","clone"],"mappings":"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","file":"../custom.js","sourcesContent":["// =============================================================================\r\n// INIT HOMEPAGE CAROUSEL\r\n// =============================================================================\r\n/*\r\nif ($(\"#carousel\").length){\r\n    const mySiema = new Siema({\r\n        selector: '.carousel-inner',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: 1,\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: true,\r\n        rtl: false,\r\n        onInit: () => {},\r\n        onChange: () => {},\r\n        });\r\n        if ($(\".left\").length){\r\n        document.querySelector('.left').addEventListener('click', () => mySiema.prev());\r\n        document.querySelector('.right').addEventListener('click', () => mySiema.next());\r\n        }\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".item a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".item\").click();\r\n            } else {\r\n                $(\".item\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n*/\r\n\r\n// =============================================================================\r\n// HOMEPAGE NEWS\r\n// =============================================================================\r\n\r\n$('<section class=\"hp-blog\"><div class=\"container\"><h1>Na našem blogu</h1><div class=\"news-wrapper\"></div><div class=\"hp-blog-bottom\"><a href=\"/blog\" class=\"btn\">Více článků</a></div></div></section>').insertBefore(\".in-index #footer\");\r\n$(\".hp-blog .news-wrapper\").load(\"/blog/ .news-wrapper .news-item:nth-child(-n+3)\");\r\n\r\n\r\n// =============================================================================\r\n// MENU TOGGLES\r\n// =============================================================================\r\n\r\n/* toggle admin bar */\r\n$(\".admin-bar\").click(function(){\r\n    $(\".admin-bar\").toggleClass(\"--active\");\r\n});\r\n\r\n/* add hamburger menu icon on mobile */\r\n$(\".header-top\").prepend('<div class=\"nav-menu-toggle\" id=\"js-menuToggle\"><span></span></div>');\r\n\r\n/* toggle control of responsive menu */\r\n$(\"#js-menuToggle, .navigation-close\").click(function(){\r\n    $(\"body\").toggleClass(\"--menuActive\");\r\n});\r\n\r\n/* add search and user icons to header area */\r\n$(\".navigation-buttons\").prepend('<div class=\"nav-search\" id=\"js-searchToggle\"></div><div class=\"nav-user\" id=\"js-userToggle\"></div>');\r\n\r\n\r\n/* toggle user login modal */\r\n$(\"#js-userToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n$('.user-action-login').on('click',function(e){\r\n    if (e.target !== this)\r\n    return;\r\n    $(\"body\").toggleClass(\"--navUserActive\");\r\n});\r\n\r\n/* login form close */\r\n$(\".user-action .login-widget .popup-widget-inner\").append(\"<span class='login-close'></span>\");\r\n$(\".login-close\").click(function(){\r\n    $(\"body\").removeClass(\"--navUserActive\");\r\n});\r\n\r\n\r\n/* toggle control of responsive search */\r\n$(\"#js-searchToggle\").click(function(){\r\n    $(\"body\").toggleClass(\"--searchActive\");\r\n    $(\".header-top .search .form-control\").focus(); \r\n});\r\n\r\n\r\n$(\".cart-count\").on('touchstart', function() {\r\n  $(\"body\").toggleClass(\"--cartActive\");\r\n});\r\n    \r\n\r\n$(\".menu-helper\").click(function(){\r\n    $(\"body\").removeClass(\"--menuActive --navUserActive --searchActive --cartActive --advancedModal\");\r\n});\r\n\r\n/* move main navigation */\r\n$(\"#navigation\").insertBefore(\".header-top .search\");\r\n\r\n// =============================================================================\r\n// VOICE SEARCH\r\n// =============================================================================\r\n\r\n$(\"#formSearchForm .query-input\").attr(\"id\",\"searchbox\");\r\n$(\"<div id='speechToggle' onclick='startDictation()'></div>\").insertBefore(\".search-form .btn\");\r\n\r\nfunction startDictation() {\r\n    if (window.hasOwnProperty('webkitSpeechRecognition')) {\r\n\r\n        var recognition = new webkitSpeechRecognition();\r\n\r\n        recognition.continuous = false;\r\n        recognition.interimResults = false;\r\n\r\n        recognition.lang = \"cs-CZ\";\r\n        recognition.start();\r\n\r\n        recognition.onresult = function(e) {\r\n            document.getElementById('searchbox').value = e.results[0][0].transcript;\r\n            recognition.stop();\r\n            document.getElementById('formSearchForm').submit();\r\n        };\r\n\r\n        recognition.onerror = function(e) {\r\n            recognition.stop();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// =============================================================================\r\n// ADVANCED ORCDER SUMMARY\r\n// =============================================================================\r\n\r\nif ($(\".type-detail\").length){\r\n\r\n    $(\"body\").append('<div class=\"advancedModal\"><div class=\"advancedModal__inner\"><h2 class=\"advancedModal__title\">Zboží bylo přidáno do košíku</h2><div class=\"advancedModal__content\"></div><div class=\"advancedModal__buttons\"><a href=\"/kosik\" class=\"btn\">Přejít do košíku</a></div></div></div>');\r\n\r\n    if ($(\".products-related\").length){\r\n        var related = $(\".products-related\").html();\r\n        $(\".advancedModal\").append('<h3 class=\"advancedModal__relatedTitle\">Související produkty</h3><div class=\"products-block\">' + related + '</div>');\r\n    }\r\n\r\n    function advanceOrderCustom() {\r\n    \r\n        $(\"body\").addClass(\"--advancedModal\");\r\n        $(\".advancedModal__content\").html(\"\");\r\n    \r\n        var img = $(\".p-detail-inner .p-image-wrapper a\").html();\r\n        var name = $(\".p-detail-inner .p-detail-inner-header h1\").html();\r\n        if($(\".p-detail-inner .parameter-dependent\").length){\r\n            var stock = $(\".p-detail-inner .availability-value .parameter-dependent:not(.noDisplay) span\").html();\r\n        }else{\r\n            var stock = $(\".p-detail-inner .availability-value\").html();\r\n        }\r\n        var amount = parseFloat($(\".p-detail-inner .add-to-cart .amount\").val());\r\n    \r\n        var priceSingle = $(\".p-detail-inner .p-final-price-wrapper .price-final-holder\").html();\r\n        var priceTotal = parseFloat(priceSingle)*amount;\r\n    \r\n        $(\".advancedModal__content\").prepend('<div class=\"extras-product\">' +\r\n        '<div class=\"extras-product-img\">' + img + '</div>' +\r\n        '<div class=\"extras-product-name\">' + name + '</div>' +\r\n        '<div class=\"extras-product-stock\">' + stock + '</div>' +\r\n        '<div class=\"extras-product-amount\">' + amount + 'x</div>' +\r\n        '<div class=\"extras-product-priceTotal\">' + priceTotal + ' Kč</div>' +\r\n        '</div>');\r\n    \r\n    \r\n    }\r\n    \r\n    /* call functions after order modal loaded */\r\n    document.addEventListener('ShoptetCartUpdated', function () {\r\n        advanceOrderCustom();\r\n    });    \r\n\r\n    $('.advancedModal').on('click',function(e){\r\n        if (e.target !== this)\r\n        return;\r\n        $(\"body\").removeClass(\"--advancedModal\");\r\n    });\r\n\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// PRODUCT PAGE\r\n// -----------------------------------------------------------------------------\r\n\r\n/* relocate product title */\r\n$(\".p-detail-inner-header\").insertBefore(\".p-final-price-wrapper\");\r\n\r\n\r\n/* init thumbnail carousel */\r\nif ($(\".p-thumbnails-inner\").length){\r\n\r\n    $('<div class=\"p-thumbnails-indicators\"></div>').insertAfter(\".p-thumbnails-inner\");\r\n    var x=0;\r\n    $('.p-thumbnail img').each(function() {\r\n        $(\".p-thumbnails-indicators\").append('<div class=\"p-thumbnails-indicator ' + x + '\"></div>');\r\n        x++;\r\n    });\r\n    $(\".p-thumbnails-indicator.0\").addClass(\"active\");\r\n\r\n    $(\".cbox-gal\").remove();\r\n\r\n    function printSlideIndex() {\r\n        var x = this.currentSlide;\r\n        $(\".p-thumbnails-indicator\").removeClass(\"active\");\r\n        $(\".p-thumbnails-indicator.\"+x).addClass(\"active\");\r\n    }\r\n\r\n    new Siema({\r\n        selector: '.p-thumbnails-inner>div',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 1,\r\n            500: 4,\r\n            991: 6,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false, \r\n        onInit: () => { $(\"img\").unveil(), printSlideIndex },\r\n        onChange: printSlideIndex,\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\".p-thumbnail\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p-thumbnail\").click();\r\n            } else {\r\n                $(\".p-thumbnail\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(\".p-image\").addClass(\"--noDisplay\");\r\n\r\n}else{\r\n    $(\".p-image\").addClass(\"--noPointerEvents\");\r\n}\r\n\r\n\r\n\r\nif ($(\".mobile\").length){\r\n    $('.p-thumbnail img').each(function() {\r\n        var src = $(this).attr('data-src').replace('related','big');\r\n        $(this).attr('data-src', src);   \r\n    });\r\n}\r\n\r\n// -----------------------------------------------------------------------------\r\n// CATEGORY CAROUSEL INIT\r\n// -----------------------------------------------------------------------------\r\n\r\nif ($(\"#productsTop .product\").length > 5){\r\n    $(\".button-wrapper\").remove();\r\n\r\n    new Siema({\r\n        selector: '#productsTop',\r\n        duration: 200,\r\n        easing: 'ease-out',\r\n        perPage: {\r\n            0: 2,\r\n            500: 3,\r\n            991: 5,\r\n        },\r\n        startIndex: 0,\r\n        draggable: true,\r\n        multipleDrag: true,\r\n        threshold: 20,\r\n        loop: false\r\n    });\r\n    $(function(){\r\n        var isDragging = false;\r\n        $(\"a\")\r\n        .mousedown(function () {\r\n            isDragging = false;\r\n        })\r\n        .mousemove(function () {\r\n            isDragging = true;\r\n        })\r\n        .mouseup(function () {\r\n            var wasDragging = isDragging;\r\n            isDragging = false;\r\n            if (!wasDragging) {\r\n                $(\".p\").click();\r\n            } else {\r\n                $(\".p\").one(\"click\", false);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n// =============================================================================\r\n// RESPONSIVE MENU TOGGLE\r\n// =============================================================================\r\n\r\nif ($(\".mobile\").length){\r\n    $('.menu-level-1>li.ext>a').click(function() {\r\n        $(this).parent(\".ext\").toggleClass(\"--active\");\r\n        return false;\r\n    });\r\n\r\n}\r\n\r\n// =============================================================================\r\n// CART\r\n// =============================================================================\r\n\r\n/* relocate contact widget to header */\r\nif ($(\".contact-box\").length){\r\n    $(\".contact-box\").clone().insertBefore(\"#js-userToggle\");\r\n}\r\n\r\n\r\nif ($(\"#customerLogin\").length){\r\n    $(\"#customerLogin .password-helper a:last-child\").insertAfter(\".input-wrapper.password\");\r\n}\r\n\r\nif ($(\".cart-header\").length){\r\n    $(\".cart-header\").insertBefore(\".content-wrapper-in\");\r\n}\r\n"]}